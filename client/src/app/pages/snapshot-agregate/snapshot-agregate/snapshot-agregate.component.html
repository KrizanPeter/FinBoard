<nb-card class="card-padding col offset-md-1 col-md-10">
    <nb-card-header>Create aggregated snapshot</nb-card-header>
    <nb-card-body>
        <!-- <div style="text-align: center; margin-top:40px;" *ngIf="isLoading">
            <app-loading-spinner></app-loading-spinner>
        </div> -->
        <form class="auth-form" #createAggregatedSnapshotForm="ngForm"
            (ngSubmit)="onSubmit(createAggregatedSnapshotForm)">
            <div class="d-flex mb-4 mt-4 time-line scroll">
                <div class="d-flex p-0 pb-3 m-0" *ngFor="let timelineSnapshot of snapshotTimeline; let i = index">
                    <nb-icon nbTooltip="Date: {{timelineSnapshot.date |  date:'dd.MMMM yyyy'}}" nbTooltipPlacement="bottom"
                        *ngIf="timelineSnapshot.isSuccess" class="" style="color: green ;" nbPrefix
                        icon="checkmark-circle-2-outline" pack="eva" >
                    </nb-icon>
                    <nb-icon *ngIf="!timelineSnapshot.isSuccess" nbTooltip="Date: {{timelineSnapshot.date |  date:'dd.MMMM yyyy'}}" nbTooltipPlacement="bottom"
                        class="" style="color: red ;" nbPrefix
                        icon="close-circle-outline" pack="eva" (click)="setDate(timelineSnapshot.date)"></nb-icon>
                    <nb-icon *ngIf="i<snapshotTimelineElements-1" class="" nbPrefix icon="more-horizontal-outline"
                        pack="eva"></nb-icon>
                </div>
            </div>
            <div class="row form-group">
                <div class="col col-12">
                    <label for="datepickerInput" class="label pb-1">Date of snapshot</label>
                    <div id="datepickerInput">
                        <input disabled  name="inputDateOfSnapshot" fullWidth ngModel nbInput placeholder="Form Picker"
                            [nbDatepicker]="formpicker" autocomplete="off" [(ngModel)]="dateFromDto" ng-model-options="{timezone: 'local'}">
                        <nb-datepicker #formpicker></nb-datepicker>
                    </div>
                </div>
            </div>
            <div class="row form-group mb-1"  *ngFor="let resource of resoucesList; let i = index">
                <div class="col col-12 col-md-6">
                    <label for="" class="label pb-1">Resource Name</label>
                    <input name="{{'name-'+resource.resourceId}}" type="text" ngModel nbInput fullWidth
                        autocomplete="off" [(ngModel)]="resource.name" disabled>

                </div>
                <div class="col col-12 offset-md-1 col-md-5">
                    <label for="" class="label pb-1">Amount</label>
                    <input name="{{'amount-'+resource.resourceId}}" type="text" ngModel nbInput required fullWidth
                        placeholder="0" autocomplete="off" [(ngModel)]="inputAgregateSnapshot[i].amount">
                </div>
            </div>


            <div class="btn-container">
                <button type="submit" nbButton status="info" [disabled]="!createAggregatedSnapshotForm.valid">Add
                    aggregated Snapshot</button>
            </div>
        </form>
    </nb-card-body>
</nb-card>